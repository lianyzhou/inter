<script src="jquery.js"></script>
<script src="inter.js"></script>
<script>
(function($) {
	
	var inter = $.ajaxTrans();
	inter.register('books' , {url : '/books/:bookid'});
	inter.register('booklist' , {url : '/booklist'
		//,timeout:1
	});
	
	var trans = inter.getAjax('books');
	
	trans.resolvePath({
		bookid : 1
	}).sendRequest({
		a : 1
	}).success(function(json) {
		console.log(json);
	}).error(function(xhr, code , errText) {
		console.dir(errText);
	}).timeout(function() {
		alert('books 超时了');
	});
	
	
	trans.resolvePath({
		bookid : 2
	}).sendRequest({
		a : 2
	}).success(function(json) {
		console.log(json);
	}).error(function(xhr, code , errText) {
		console.dir(errText);
	}).timeout(function() {
		alert('books 超时了');
	});
	
	
	var transBooklist = inter.getAjax("booklist");
	
	transBooklist.sendRequest({
		a : 1
	}).success(function(json) {
		console.log(json);
	}).error(function(xhr, code , errText) {
		console.dir(errText);
	}).timeout(function() {
		alert('booklist 超时了');
	});
	
})(jQuery);
</script>
